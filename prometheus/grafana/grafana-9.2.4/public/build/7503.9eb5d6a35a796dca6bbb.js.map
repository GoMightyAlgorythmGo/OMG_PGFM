{"version":3,"file":"7503.9eb5d6a35a796dca6bbb.js","mappings":"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","sources":["webpack://grafana/./public/app/features/canvas/element.ts","webpack://grafana/./public/app/features/canvas/elements/icon.tsx","webpack://grafana/./public/app/features/canvas/elements/notFound.tsx","webpack://grafana/./public/app/features/canvas/elements/button.tsx","webpack://grafana/./public/app/features/canvas/elements/droneFront.tsx","webpack://grafana/./public/app/features/canvas/elements/droneSide.tsx","webpack://grafana/./public/app/features/canvas/elements/droneTop.tsx","webpack://grafana/./public/app/features/canvas/elements/metricValue.tsx","webpack://grafana/./public/app/features/canvas/elements/rectangle.tsx","webpack://grafana/./public/app/features/canvas/elements/text.tsx","webpack://grafana/./public/app/features/canvas/elements/windTurbine.tsx","webpack://grafana/./public/app/features/canvas/registry.ts","webpack://grafana/./public/app/features/canvas/runtime/element.tsx","webpack://grafana/./public/app/features/canvas/types.ts","webpack://grafana/./public/app/plugins/panel/canvas/editor/APIEditor.tsx","webpack://grafana/./public/app/features/dimensions/editors/BackgroundSizeEditor.tsx","webpack://grafana/./public/app/plugins/panel/canvas/editor/options.ts"],"sourcesContent":["import { ComponentType } from 'react';\n\nimport { RegistryItem } from '@grafana/data';\nimport { PanelOptionsSupplier } from '@grafana/data/src/panel/PanelPlugin';\nimport { config } from 'app/core/config';\n\nimport { DimensionContext } from '../dimensions/context';\n\nimport { BackgroundConfig, Constraint, LineConfig, Placement } from './types';\n\n/**\n * This gets saved in panel json\n *\n * depending on the type, it may have additional config\n *\n * @alpha\n */\nexport interface CanvasElementOptions<TConfig = any> {\n  name: string; // configured unique display name\n  type: string;\n\n  // Custom options depending on the type\n  config?: TConfig;\n\n  // Standard options available for all elements\n  constraint?: Constraint; // defaults vertical - top, horizontal - left\n  placement?: Placement;\n  background?: BackgroundConfig;\n  border?: LineConfig;\n}\n\nexport interface CanvasElementProps<TConfig = any, TData = any> {\n  // Saved config\n  config: TConfig;\n\n  // Raw data\n  data?: TData;\n\n  // If the element is currently selected\n  isSelected?: boolean;\n}\n\n/**\n * Canvas item builder\n *\n * @alpha\n */\nexport interface CanvasElementItem<TConfig = any, TData = any> extends RegistryItem {\n  /** The default width/height to use when adding  */\n  defaultSize?: Placement;\n\n  prepareData?: (ctx: DimensionContext, cfg: TConfig) => TData;\n\n  /** Component used to draw */\n  display: ComponentType<CanvasElementProps<TConfig, TData>>;\n\n  getNewOptions: (options?: CanvasElementOptions) => Omit<CanvasElementOptions<TConfig>, 'type' | 'name'>;\n\n  /** Build the configuration UI */\n  registerOptionsUI?: PanelOptionsSupplier<CanvasElementOptions<TConfig>>;\n\n  /** If item has an edit mode */\n  hasEditMode?: boolean;\n}\n\nexport const defaultBgColor = '#D9D9D9';\nexport const defaultTextColor = '#000000';\nexport const defaultThemeTextColor = config.theme2.colors.text.primary;\n","import { css } from '@emotion/css';\nimport { isString } from 'lodash';\nimport React, { CSSProperties } from 'react';\nimport SVG from 'react-inlinesvg';\n\nimport {\n  ColorDimensionConfig,\n  ResourceDimensionConfig,\n  ResourceDimensionMode,\n  getPublicOrAbsoluteUrl,\n} from 'app/features/dimensions';\nimport { DimensionContext } from 'app/features/dimensions/context';\nimport { ColorDimensionEditor, ResourceDimensionEditor } from 'app/features/dimensions/editors';\nimport { APIEditorConfig, callApi } from 'app/plugins/panel/canvas/editor/APIEditor';\n\nimport { CanvasElementItem, CanvasElementProps, defaultBgColor } from '../element';\nimport { LineConfig } from '../types';\n\nexport interface IconConfig {\n  path?: ResourceDimensionConfig;\n  fill?: ColorDimensionConfig;\n  stroke?: LineConfig;\n  api?: APIEditorConfig;\n}\n\ninterface IconData {\n  path: string;\n  fill: string;\n  strokeColor?: string;\n  stroke?: number;\n  api?: APIEditorConfig;\n}\n\n// When a stoke is defined, we want the path to be in page units\nconst svgStrokePathClass = css`\n  path {\n    vector-effect: non-scaling-stroke;\n  }\n`;\n\nexport function IconDisplay(props: CanvasElementProps) {\n  const { data } = props;\n  if (!data?.path) {\n    return null;\n  }\n\n  const onClick = () => {\n    if (data?.api) {\n      callApi(data.api);\n    }\n  };\n\n  const svgStyle: CSSProperties = {\n    fill: data?.fill,\n    stroke: data?.strokeColor,\n    strokeWidth: data?.stroke,\n    height: '100%',\n    width: '100%',\n  };\n\n  return (\n    <SVG\n      onClick={onClick}\n      src={data.path}\n      style={svgStyle}\n      className={svgStyle.strokeWidth ? svgStrokePathClass : undefined}\n    />\n  );\n}\n\nexport const iconItem: CanvasElementItem<IconConfig, IconData> = {\n  id: 'icon',\n  name: 'Icon',\n  description: 'SVG Icon display',\n\n  display: IconDisplay,\n\n  getNewOptions: (options) => ({\n    placement: {\n      width: 100,\n      height: 100,\n      top: 0,\n      left: 0,\n    },\n    ...options,\n    config: {\n      path: {\n        mode: ResourceDimensionMode.Fixed,\n        fixed: 'img/icons/unicons/question-circle.svg',\n      },\n      fill: { fixed: defaultBgColor },\n    },\n    background: {\n      color: {\n        fixed: 'transparent',\n      },\n    },\n  }),\n\n  // Called when data changes\n  prepareData: (ctx: DimensionContext, cfg: IconConfig) => {\n    let path: string | undefined = undefined;\n    if (cfg.path) {\n      path = ctx.getResource(cfg.path).value();\n    }\n    if (!path || !isString(path)) {\n      path = getPublicOrAbsoluteUrl('img/icons/unicons/question-circle.svg');\n    }\n\n    const data: IconData = {\n      path,\n      fill: cfg.fill ? ctx.getColor(cfg.fill).value() : defaultBgColor,\n      api: cfg?.api ?? undefined,\n    };\n\n    if (cfg.stroke?.width && cfg.stroke.color) {\n      if (cfg.stroke.width > 0) {\n        data.stroke = cfg.stroke?.width;\n        data.strokeColor = ctx.getColor(cfg.stroke.color).value();\n      }\n    }\n    return data;\n  },\n\n  // Heatmap overlay options\n  registerOptionsUI: (builder) => {\n    const category = ['Icon'];\n    builder\n      .addCustomEditor({\n        category,\n        id: 'iconSelector',\n        path: 'config.path',\n        name: 'SVG Path',\n        editor: ResourceDimensionEditor,\n        settings: {\n          resourceType: 'icon',\n        },\n      })\n      .addCustomEditor({\n        category,\n        id: 'config.fill',\n        path: 'config.fill',\n        name: 'Fill color',\n        editor: ColorDimensionEditor,\n        settings: {},\n        defaultValue: {\n          // Configured values\n          fixed: 'grey',\n        },\n      });\n    // .addSliderInput({\n    //   category,\n    //   path: 'config.stroke.width',\n    //   name: 'Stroke',\n    //   defaultValue: 0,\n    //   settings: {\n    //     min: 0,\n    //     max: 10,\n    //   },\n    // })\n    // .addCustomEditor({\n    //   category,\n    //   id: 'config.stroke.color',\n    //   path: 'config.stroke.color',\n    //   name: 'Stroke color',\n    //   editor: ColorDimensionEditor,\n    //   settings: {},\n    //   defaultValue: {\n    //     // Configured values\n    //     fixed: 'grey',\n    //   },\n    //   showIf: (cfg) => Boolean(cfg?.config?.stroke?.width),\n    // })\n    // .addCustomEditor({\n    //   category,\n    //   id: 'apiSelector',\n    //   path: 'config.api',\n    //   name: 'API',\n    //   editor: APIEditor,\n    // });\n  },\n};\n","import React, { PureComponent } from 'react';\n\nimport { CanvasElementItem, CanvasElementProps } from '../element';\n\ninterface NotFoundConfig {\n  orig?: any;\n}\n\nclass NotFoundDisplay extends PureComponent<CanvasElementProps<NotFoundConfig>> {\n  render() {\n    const { config } = this.props;\n    return (\n      <div>\n        <h3>NOT FOUND:</h3>\n        <pre>{JSON.stringify(config, null, 2)}</pre>\n      </div>\n    );\n  }\n}\n\nexport const notFoundItem: CanvasElementItem<NotFoundConfig> = {\n  id: 'not-found',\n  name: 'Not found',\n  description: 'Display when element type is not found in the registry',\n\n  display: NotFoundDisplay,\n\n  defaultSize: {\n    width: 100,\n    height: 100,\n  },\n\n  getNewOptions: () => ({\n    config: {},\n  }),\n};\n","import React, { PureComponent } from 'react';\n\nimport { PluginState } from '@grafana/data/src';\nimport { Button } from '@grafana/ui';\nimport { DimensionContext } from 'app/features/dimensions/context';\nimport { TextDimensionEditor } from 'app/features/dimensions/editors/TextDimensionEditor';\nimport { TextDimensionConfig } from 'app/features/dimensions/types';\nimport { APIEditor, APIEditorConfig, callApi } from 'app/plugins/panel/canvas/editor/APIEditor';\n\nimport { CanvasElementItem, CanvasElementProps, defaultBgColor } from '../element';\n\ninterface ButtonData {\n  text?: string;\n  api?: APIEditorConfig;\n}\n\ninterface ButtonConfig {\n  text?: TextDimensionConfig;\n  api?: APIEditorConfig;\n}\n\nclass ButtonDisplay extends PureComponent<CanvasElementProps<ButtonConfig, ButtonData>> {\n  render() {\n    const { data } = this.props;\n    const onClick = () => {\n      if (data?.api) {\n        callApi(data.api);\n      }\n    };\n\n    return (\n      <Button type=\"submit\" onClick={onClick} style={{ background: defaultBgColor }}>\n        {data?.text}\n      </Button>\n    );\n  }\n}\n\nexport const buttonItem: CanvasElementItem<ButtonConfig, ButtonData> = {\n  id: 'button',\n  name: 'Button',\n  description: 'Button',\n  state: PluginState.alpha,\n\n  display: ButtonDisplay,\n\n  defaultSize: {\n    width: 32,\n    height: 32,\n  },\n\n  getNewOptions: (options) => ({\n    ...options,\n    background: {\n      color: {\n        fixed: 'transparent',\n      },\n    },\n    placement: {\n      width: 32,\n      height: 32,\n      top: 0,\n      left: 0,\n    },\n  }),\n\n  // Called when data changes\n  prepareData: (ctx: DimensionContext, cfg: ButtonConfig) => {\n    const data: ButtonData = {\n      text: cfg?.text ? ctx.getText(cfg.text).value() : '',\n      api: cfg?.api ?? undefined,\n    };\n\n    return data;\n  },\n\n  // Heatmap overlay options\n  registerOptionsUI: (builder) => {\n    const category = ['Button'];\n    builder\n      .addCustomEditor({\n        category,\n        id: 'textSelector',\n        path: 'config.text',\n        name: 'Text',\n        editor: TextDimensionEditor,\n      })\n      .addCustomEditor({\n        category,\n        id: 'apiSelector',\n        path: 'config.api',\n        name: 'API',\n        editor: APIEditor,\n      });\n  },\n};\n","import { css } from '@emotion/css';\nimport React, { FC } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\nimport { DimensionContext, ScalarDimensionConfig } from 'app/features/dimensions';\nimport { ScalarDimensionEditor } from 'app/features/dimensions/editors';\n\nimport { CanvasElementItem, CanvasElementProps, defaultBgColor } from '../element';\n\ninterface DroneFrontData {\n  rollAngle?: number;\n}\n\ninterface DroneFrontConfig {\n  rollAngle?: ScalarDimensionConfig;\n}\n\nconst DroneFrontDisplay: FC<CanvasElementProps<DroneFrontConfig, DroneFrontData>> = (props) => {\n  const styles = useStyles2(getStyles);\n\n  const { data } = props;\n\n  const droneFrontTransformStyle = `rotate(${data?.rollAngle ? data.rollAngle : 0}deg)`;\n\n  return (\n    <svg\n      className={styles.droneFront}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      viewBox=\"0 0 1300 290\"\n      style={{ transform: droneFrontTransformStyle, stroke: defaultBgColor }}\n    >\n      <g className=\"arms\" stroke={defaultBgColor} strokeWidth=\"28px\">\n        <line x1=\"510\" x2=\"320\" y1=\"100\" y2=\"150\" />\n        <line x1=\"510\" x2=\"320\" y1=\"190\" y2=\"210\" />\n        <line x1=\"790\" x2=\"980\" y1=\"190\" y2=\"210\" />\n        <line x1=\"790\" x2=\"980\" y1=\"100\" y2=\"150\" />\n      </g>\n      <g className=\"body\" stroke={defaultBgColor} strokeWidth=\"28px\">\n        <path\n          fill=\"none\"\n          d=\" M 510 130 C 510 124 510 110 510 100 C 510 90 530 71 540 70 C 640 61 670 60 760 70 C 770 71 790 90 790 100 Q 790 120 790 130 L 790 130 Q 790 177 790 196 C 790 207 770 225 760 226 C 670 236 640 236 540 226 C 530 226 510 206 510 196 Q 510 177 510 130 Q 510 133 510 130 Z \"\n        />\n        <circle cx=\"650\" cy=\"160\" r=\"40\" fill=\"none\" />\n      </g>\n      <g className=\"motors\" stroke={defaultBgColor} strokeWidth=\"28px\">\n        <path\n          className=\"motor\"\n          fill=\"none\"\n          d=\" M 320 60 L 250 60 L 250 230 L 260 290 L 310 290 L 320 230 L 320 60 Z \"\n        />\n        <path\n          className=\"motor\"\n          fill=\"none\"\n          d=\" M 1050 60 L 980 60 L 980 230 L 990 290 L 1040 290 L 1050 230 L 1050 60 Z \"\n        />\n      </g>\n      <g className=\"propellers\" fill={defaultBgColor}>\n        <path\n          className=\"prop\"\n          d=\" M 270 60 L 300 60 L 300 20 Q 311 30 330 30 Q 349 30 570 10 L 300 10 Q 300 0 290 0 C 286 0 284 0 280 0 Q 270 0 270 10 L 0 10 Q 220 30 240 30 Q 260 30 270 20 L 270 60 Z \"\n        />\n        <path\n          className=\"prop\"\n          d=\" M 1000 60 L 1030 60 L 1030 20 Q 1041 30 1060 30 Q 1079 30 1300 10 L 1030 10 Q 1030 0 1020 0 C 1016 0 1014 0 1010 0 Q 1000 0 1000 10 L 730 10 Q 950 30 970 30 Q 990 30 1000 20 L 1000 60 Z \"\n        />\n      </g>\n    </svg>\n  );\n};\n\nexport const droneFrontItem: CanvasElementItem<any, any> = {\n  id: 'droneFront',\n  name: 'Drone Front',\n  description: 'Drone front',\n\n  display: DroneFrontDisplay,\n\n  defaultSize: {\n    width: 100,\n    height: 26,\n  },\n\n  getNewOptions: (options) => ({\n    ...options,\n    background: {\n      color: {\n        fixed: 'transparent',\n      },\n    },\n    placement: {\n      width: options?.placement?.width ?? 100,\n      height: options?.placement?.height ?? 26,\n      top: options?.placement?.top,\n      left: options?.placement?.left,\n    },\n  }),\n\n  // Called when data changes\n  prepareData: (ctx: DimensionContext, cfg: DroneFrontConfig) => {\n    const data: DroneFrontData = {\n      rollAngle: cfg?.rollAngle ? ctx.getScalar(cfg.rollAngle).value() : 0,\n    };\n\n    return data;\n  },\n\n  registerOptionsUI: (builder) => {\n    const category = ['Drone Front'];\n    builder.addCustomEditor({\n      category,\n      id: 'rollAngle',\n      path: 'config.rollAngle',\n      name: 'Roll Angle',\n      editor: ScalarDimensionEditor,\n    });\n  },\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  droneFront: css`\n    transition: transform 0.4s;\n  `,\n});\n","import { css } from '@emotion/css';\nimport React, { FC } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\nimport { DimensionContext, ScalarDimensionConfig } from 'app/features/dimensions';\nimport { ScalarDimensionEditor } from 'app/features/dimensions/editors';\n\nimport { CanvasElementItem, CanvasElementProps, defaultBgColor } from '../element';\n\ninterface DroneSideData {\n  pitchAngle?: number;\n}\n\ninterface DroneSideConfig {\n  pitchAngle?: ScalarDimensionConfig;\n}\n\nconst DroneSideDisplay: FC<CanvasElementProps<DroneSideConfig, DroneSideData>> = (props) => {\n  const styles = useStyles2(getStyles);\n\n  const { data } = props;\n\n  const droneSidePitchTransformStyle = `rotate(${data?.pitchAngle ? data.pitchAngle : 0}deg)`;\n\n  return (\n    <svg\n      className={styles.droneSide}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      viewBox=\"0 0 1300 290\"\n      style={{ transform: droneSidePitchTransformStyle, stroke: defaultBgColor }}\n    >\n      <g className=\"arms\" stroke={defaultBgColor} strokeWidth=\"28px\">\n        <line x1=\"510\" x2=\"320\" y1=\"100\" y2=\"150\" />\n        <line x1=\"510\" x2=\"320\" y1=\"190\" y2=\"210\" />\n        <line x1=\"790\" x2=\"980\" y1=\"190\" y2=\"210\" />\n        <line x1=\"790\" x2=\"980\" y1=\"100\" y2=\"150\" />\n      </g>\n      <g className=\"body\" stroke={defaultBgColor} strokeWidth=\"28px\">\n        <path\n          fill=\"none\"\n          d=\" M 510 130 C 510 124 510 110 510 100 C 510 90 530 71 540 70 C 640 61 670 60 760 70 C 770 71 790 90 790 100 Q 790 120 790 130 L 790 130 Q 790 177 790 196 C 790 207 770 225 760 226 C 670 236 640 236 540 226 C 530 226 510 206 510 196 Q 510 177 510 130 Q 510 133 510 130 Z \"\n        />\n      </g>\n      <g className=\"motors\" stroke={defaultBgColor} strokeWidth=\"28px\">\n        <path\n          className=\"motor\"\n          fill=\"none\"\n          d=\" M 320 60 L 250 60 L 250 230 L 260 290 L 310 290 L 320 230 L 320 60 Z \"\n        />\n        <path\n          className=\"motor\"\n          fill=\"none\"\n          d=\" M 1050 60 L 980 60 L 980 230 L 990 290 L 1040 290 L 1050 230 L 1050 60 Z \"\n        />\n      </g>\n      <g className=\"propellers\" fill={defaultBgColor}>\n        <path\n          className=\"prop\"\n          d=\" M 270 60 L 300 60 L 300 20 Q 311 30 330 30 Q 349 30 570 10 L 300 10 Q 300 0 290 0 C 286 0 284 0 280 0 Q 270 0 270 10 L 0 10 Q 220 30 240 30 Q 260 30 270 20 L 270 60 Z \"\n        />\n        <path\n          className=\"prop\"\n          d=\" M 1000 60 L 1030 60 L 1030 20 Q 1041 30 1060 30 Q 1079 30 1300 10 L 1030 10 Q 1030 0 1020 0 C 1016 0 1014 0 1010 0 Q 1000 0 1000 10 L 730 10 Q 950 30 970 30 Q 990 30 1000 20 L 1000 60 Z \"\n        />\n      </g>\n    </svg>\n  );\n};\n\nexport const droneSideItem: CanvasElementItem<any, any> = {\n  id: 'droneSide',\n  name: 'Drone Side',\n  description: 'Drone Side',\n\n  display: DroneSideDisplay,\n\n  defaultSize: {\n    width: 100,\n    height: 26,\n  },\n\n  getNewOptions: (options) => ({\n    ...options,\n    background: {\n      color: {\n        fixed: 'transparent',\n      },\n    },\n    placement: {\n      width: options?.placement?.width ?? 100,\n      height: options?.placement?.height ?? 26,\n      top: options?.placement?.top,\n      left: options?.placement?.left,\n    },\n  }),\n\n  // Called when data changes\n  prepareData: (ctx: DimensionContext, cfg: DroneSideConfig) => {\n    const data: DroneSideData = {\n      pitchAngle: cfg?.pitchAngle ? ctx.getScalar(cfg.pitchAngle).value() : 0,\n    };\n\n    return data;\n  },\n\n  registerOptionsUI: (builder) => {\n    const category = ['Drone Side'];\n    builder.addCustomEditor({\n      category,\n      id: 'pitchAngle',\n      path: 'config.pitchAngle',\n      name: 'Pitch Angle',\n      editor: ScalarDimensionEditor,\n    });\n  },\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  droneSide: css`\n    transition: transform 0.4s;\n  `,\n});\n","import { css } from '@emotion/css';\nimport React, { FC } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\nimport { DimensionContext, ScalarDimensionConfig } from 'app/features/dimensions';\nimport { ScalarDimensionEditor } from 'app/features/dimensions/editors';\n\nimport { CanvasElementItem, CanvasElementProps, defaultBgColor } from '../element';\n\ninterface DroneTopData {\n  bRightRotorRPM?: number;\n  bLeftRotorRPM?: number;\n  fRightRotorRPM?: number;\n  fLeftRotorRPM?: number;\n  yawAngle?: number;\n}\n\ninterface DroneTopConfig {\n  bRightRotorRPM?: ScalarDimensionConfig;\n  bLeftRotorRPM?: ScalarDimensionConfig;\n  fRightRotorRPM?: ScalarDimensionConfig;\n  fLeftRotorRPM?: ScalarDimensionConfig;\n  yawAngle?: ScalarDimensionConfig;\n}\n\nconst DroneTopDisplay: FC<CanvasElementProps<DroneTopConfig, DroneTopData>> = (props) => {\n  const styles = useStyles2(getStyles);\n\n  const { data } = props;\n\n  const fRightRotorAnimation = `spin ${data?.fRightRotorRPM ? 60 / Math.abs(data.fRightRotorRPM) : 0}s linear infinite`;\n\n  const fLeftRotorAnimation = `spin ${data?.fLeftRotorRPM ? 60 / Math.abs(data.fLeftRotorRPM) : 0}s linear infinite`;\n\n  const bRightRotorAnimation = `spin ${data?.bRightRotorRPM ? 60 / Math.abs(data.bRightRotorRPM) : 0}s linear infinite`;\n\n  const bLeftRotorAnimation = `spin ${data?.bLeftRotorRPM ? 60 / Math.abs(data.bLeftRotorRPM) : 0}s linear infinite`;\n\n  const droneTopTransformStyle = `rotate(${data?.yawAngle ? data.yawAngle : 0}deg)`;\n\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      viewBox=\"-43 -43 640 640\"\n      xmlSpace=\"preserve\"\n      style={{ transform: droneTopTransformStyle, fill: defaultBgColor }}\n    >\n      <path\n        fillRule=\"evenodd\"\n        d=\" M 137.95 127.967 C 137.14 127.157 136.189 126.58 135.178 126.218 C 138.173 121.545 139.967 116.036 140.125 110.123 L 217.64 151.862 C 214.049 157.411 211.8 163.922 211.386 170.95 L 209.694 199.712 L 137.95 127.967 L 137.95 127.967 L 137.95 127.967 L 137.95 127.967 L 137.95 127.967 L 137.95 127.967 L 137.95 127.967 L 137.95 127.967 L 137.95 127.967 Z  M 134.268 426.981 C 130.211 421.314 124.328 417.045 117.482 415.041 L 201.999 330.523 L 201.385 340.955 C 200.67 353.107 202.829 364.914 207.563 375.673 L 134.268 426.981 L 134.268 426.981 L 134.268 426.981 L 134.268 426.981 L 134.268 426.981 L 134.268 426.981 L 134.268 426.981 L 134.268 426.981 Z  M 324.765 373.673 L 228.527 373.673 Q 215.374 358.611 216.361 341.835 L 226.361 171.832 C 226.825 163.94 231.012 157.096 237.146 152.957 L 316.146 152.957 C 322.28 157.096 326.466 163.94 326.931 171.832 L 336.931 341.835 Q 337.918 358.611 324.765 373.673 L 324.765 373.673 L 324.765 373.673 L 324.765 373.673 L 324.765 373.673 L 324.765 373.673 L 324.765 373.673 Z  M 435.81 415.041 C 428.964 417.045 423.081 421.314 419.024 426.981 L 345.727 375.673 C 350.461 364.914 352.62 353.107 351.905 340.955 L 351.291 330.523 L 435.81 415.041 L 435.81 415.041 L 435.81 415.041 L 435.81 415.041 L 435.81 415.041 L 435.81 415.041 Z  M 343.596 199.713 L 341.904 170.951 C 341.49 163.923 339.242 157.411 335.651 151.863 L 413.167 110.124 C 413.325 116.037 415.119 121.546 418.114 126.219 C 417.103 126.581 416.152 127.158 415.342 127.968 L 343.596 199.713 L 343.596 199.713 L 343.596 199.713 L 343.596 199.713 L 343.596 199.713 Z  M 444.646 92.771 C 453.744 92.771 461.146 100.172 461.146 109.271 C 461.146 118.369 453.744 125.771 444.646 125.771 C 435.548 125.771 428.146 118.369 428.146 109.271 C 428.146 100.172 435.548 92.771 444.646 92.771 L 444.646 92.771 L 444.646 92.771 L 444.646 92.771 Z  M 108.647 92.771 C 117.745 92.771 125.147 100.172 125.147 109.271 C 125.147 118.369 117.745 125.771 108.647 125.771 C 99.549 125.771 92.147 118.369 92.147 109.271 C 92.147 100.172 99.549 92.771 108.647 92.771 L 108.647 92.771 L 108.647 92.771 Z  M 108.647 461.771 C 99.549 461.771 92.147 454.369 92.147 445.271 C 92.147 436.172 99.549 428.771 108.647 428.771 C 117.745 428.771 125.147 436.172 125.147 445.271 C 125.147 454.369 117.745 461.771 108.647 461.771 L 108.647 461.771 Z  M 92.322 136.202 C 97.086 139.1 102.675 140.771 108.647 140.771 C 114.883 140.771 120.697 138.941 125.594 135.802 C 125.956 136.813 126.534 137.764 127.343 138.573 L 207.342 218.573 C 207.711 218.942 208.109 219.264 208.528 219.54 L 203.212 309.908 C 201.794 310.182 200.44 310.869 199.342 311.967 L 95.343 415.967 C 94.954 416.356 94.62 416.779 94.335 417.224 C 93.651 417.575 92.976 417.942 92.322 418.34 Q 84.615 424.182 81.716 428.946 C 78.817 433.71 77.147 439.299 77.147 445.271 C 77.147 462.64 91.278 476.771 108.647 476.771 C 114.619 476.771 120.208 475.1 124.972 472.202 C 129.736 469.304 132.678 466.36 135.577 461.596 C 138.476 456.832 140.147 451.243 140.147 445.271 C 140.147 443.943 140.055 442.637 139.895 441.352 L 214.997 388.78 C 217.05 391.677 336.242 391.678 338.295 388.78 L 413.398 441.352 C 413.238 442.637 413.146 443.943 413.146 445.271 C 413.146 451.243 414.817 456.832 417.715 461.596 C 420.613 466.36 423.557 469.304 428.321 472.202 C 433.085 475.1 438.674 476.771 444.646 476.771 C 462.015 476.771 476.146 462.64 476.146 445.271 C 476.146 439.299 474.475 433.71 471.577 428.946 C 468.679 424.182 459.642 417.575 458.958 417.224 C 458.672 416.779 458.339 416.356 457.95 415.967 L 353.95 311.967 C 352.852 310.869 351.498 310.182 350.08 309.908 L 344.764 219.54 C 345.183 219.264 345.581 218.942 345.95 218.573 L 425.95 138.573 C 426.76 137.763 427.337 136.812 427.699 135.802 C 432.596 138.941 438.409 140.771 444.646 140.771 C 450.618 140.771 456.207 139.1 460.971 136.202 C 465.735 133.304 468.679 130.36 471.577 125.596 C 474.475 120.832 476.146 115.243 476.146 109.271 C 476.146 91.903 462.015 77.772 444.646 77.772 C 438.674 77.772 433.085 79.442 428.321 82.34 L 416.215 91.446 L 324.765 140.688 C 318.402 136.324 310.718 133.771 302.473 133.771 L 250.819 133.771 C 242.574 133.771 234.89 136.324 228.527 140.688 L 137.078 91.446 L 124.972 82.34 C 120.208 79.442 114.619 77.772 108.647 77.772 C 91.278 77.772 77.147 91.903 77.147 109.271 C 77.147 115.243 78.818 120.832 81.716 125.595 C 84.614 130.358 87.558 133.304 92.322 136.202 L 92.322 136.202 L 92.322 136.202 L 92.322 136.202 L 92.322 136.202 L 92.322 136.202 L 92.322 136.202 L 92.322 136.202 L 92.322 136.202 Z  M 444.646 461.771 C 435.548 461.771 428.146 454.369 428.146 445.271 C 428.146 436.172 435.548 428.771 444.646 428.771 C 453.744 428.771 461.146 436.172 461.146 445.271 C 461.146 454.369 453.744 461.771 444.646 461.771 Z \"\n      />\n      <path\n        fillRule=\"evenodd\"\n        d=\" M 259.458 334.235 L 259.458 337.211 L 254.514 337.211 L 254.514 350.795 L 250.842 350.795 L 250.842 337.211 L 245.898 337.211 L 245.898 334.235 L 259.458 334.235 Z  M 266.226 347.939 L 272.586 347.939 L 272.754 350.627 L 272.754 350.627 Q 270.498 350.867 265.074 350.867 L 265.074 350.867 L 265.074 350.867 Q 263.418 350.867 262.434 349.967 L 262.434 349.967 L 262.434 349.967 Q 261.45 349.067 261.426 347.531 L 261.426 347.531 L 261.426 337.499 L 261.426 337.499 Q 261.45 335.963 262.434 335.063 L 262.434 335.063 L 262.434 335.063 Q 263.418 334.163 265.074 334.163 L 265.074 334.163 L 265.074 334.163 Q 270.498 334.163 272.754 334.403 L 272.754 334.403 L 272.586 337.115 L 266.226 337.115 L 266.226 337.115 Q 265.626 337.115 265.362 337.403 L 265.362 337.403 L 265.362 337.403 Q 265.098 337.691 265.098 338.339 L 265.098 338.339 L 265.098 340.859 L 271.698 340.859 L 271.698 343.499 L 265.098 343.499 L 265.098 346.691 L 265.098 346.691 Q 265.098 347.363 265.362 347.651 L 265.362 347.651 L 265.362 347.651 Q 265.626 347.939 266.226 347.939 L 266.226 347.939 Z  M 275.202 333.995 L 278.73 333.995 L 278.73 346.931 L 278.73 346.931 Q 278.73 348.131 280.074 348.131 L 280.074 348.131 L 281.034 348.131 L 281.442 350.603 L 281.442 350.603 Q 280.53 351.083 278.61 351.083 L 278.61 351.083 L 278.61 351.083 Q 277.026 351.083 276.114 350.231 L 276.114 350.231 L 276.114 350.231 Q 275.202 349.379 275.202 347.819 L 275.202 347.819 L 275.202 333.995 Z  M 283.05 333.995 L 286.578 333.995 L 286.578 346.931 L 286.578 346.931 Q 286.578 348.131 287.922 348.131 L 287.922 348.131 L 288.882 348.131 L 289.29 350.603 L 289.29 350.603 Q 288.378 351.083 286.458 351.083 L 286.458 351.083 L 286.458 351.083 Q 284.874 351.083 283.962 350.231 L 283.962 350.231 L 283.962 350.231 Q 283.05 349.379 283.05 347.819 L 283.05 347.819 L 283.05 333.995 Z  M 292.086 335.759 L 292.086 335.759 L 292.086 335.759 Q 293.634 333.923 297.618 333.923 L 297.618 333.923 L 297.618 333.923 Q 301.602 333.923 303.162 335.759 L 303.162 335.759 L 303.162 335.759 Q 304.722 337.595 304.722 342.515 L 304.722 342.515 L 304.722 342.515 Q 304.722 347.435 303.162 349.271 L 303.162 349.271 L 303.162 349.271 Q 301.602 351.107 297.618 351.107 L 297.618 351.107 L 297.618 351.107 Q 293.634 351.107 292.086 349.271 L 292.086 349.271 L 292.086 349.271 Q 290.538 347.435 290.538 342.515 L 290.538 342.515 L 290.538 342.515 Q 290.538 337.595 292.086 335.759 Z  M 300.174 338.051 L 300.174 338.051 L 300.174 338.051 Q 299.49 336.875 297.618 336.875 L 297.618 336.875 L 297.618 336.875 Q 295.746 336.875 295.062 338.051 L 295.062 338.051 L 295.062 338.051 Q 294.378 339.227 294.378 342.515 L 294.378 342.515 L 294.378 342.515 Q 294.378 345.803 295.062 346.979 L 295.062 346.979 L 295.062 346.979 Q 295.746 348.155 297.618 348.155 L 297.618 348.155 L 297.618 348.155 Q 299.49 348.155 300.174 346.979 L 300.174 346.979 L 300.174 346.979 Q 300.858 345.803 300.858 342.515 L 300.858 342.515 L 300.858 342.515 Q 300.858 339.227 300.174 338.051 Z \"\n      />\n      <g className=\"propeller-group\">\n        <path\n          className={`${styles.propeller} ${styles.propellerCW}`}\n          style={{ animation: bRightRotorAnimation }}\n          d=\" M 461.563 418.77 L 463.992 416.34 Q 465.495 407.116 466.461 400.395 C 467.426 393.675 469.363 388.087 474.731 383.284 Q 533.862 341.514 538.196 338.859 C 542.529 336.203 548.345 334.299 551.492 338.29 C 554.639 342.282 553.481 346.02 549.419 350.082 L 471.147 428.354 L 461.563 418.77 Z  M 427.729 471.772 L 425.299 474.202 Q 423.797 483.426 422.831 490.146 C 421.866 496.867 419.929 502.454 414.561 507.257 Q 355.43 549.028 351.096 551.683 C 346.763 554.338 340.947 556.243 337.8 552.251 C 334.653 548.26 335.811 544.522 339.873 540.46 L 418.145 462.187 L 427.729 471.772 Z \"\n        />\n        <path\n          className={`${styles.propeller} ${styles.propellerCCW}`}\n          style={{ animation: fRightRotorAnimation }}\n          d=\" M 461.563 135.773 L 463.992 138.203 Q 465.495 147.426 466.461 154.147 C 467.426 160.868 469.363 166.455 474.731 171.258 Q 533.862 213.028 538.196 215.684 C 542.529 218.339 548.345 220.244 551.492 216.252 C 554.639 212.26 553.481 208.523 549.419 204.46 L 471.147 126.188 L 461.563 135.773 Z  M 427.729 82.77 L 425.299 80.34 Q 423.797 71.117 422.831 64.396 C 421.866 57.675 419.929 52.088 414.561 47.285 Q 355.43 5.515 351.096 2.859 C 346.763 0.204 340.947 -1.701 337.8 2.291 C 334.653 6.282 335.811 10.02 339.873 14.082 L 418.145 92.355 L 427.729 82.77 Z \"\n        />\n        <path\n          className={`${styles.propeller} ${styles.propellerCCW}`}\n          style={{ animation: bLeftRotorAnimation }}\n          d=\" M 125.563 471.772 L 127.993 474.202 Q 129.496 483.426 130.461 490.146 C 131.427 496.867 133.363 502.454 138.731 507.257 Q 197.863 549.028 202.196 551.683 C 206.53 554.338 212.345 556.243 215.492 552.251 C 218.639 548.26 217.482 544.522 213.419 540.46 L 135.148 462.187 L 125.563 471.772 Z  M 91.73 418.77 L 89.3 416.34 Q 87.797 407.116 86.832 400.395 C 85.866 393.675 83.93 388.087 78.562 383.284 Q 19.431 341.514 15.097 338.859 C 10.763 336.203 4.948 334.299 1.801 338.29 C -1.346 342.282 -0.189 346.02 3.874 350.082 L 82.146 428.354 L 91.73 418.77 Z \"\n        />\n        <path\n          className={`${styles.propeller} ${styles.propellerCW}`}\n          style={{ animation: fLeftRotorAnimation }}\n          d=\" M 125.563 82.77 L 127.993 80.34 Q 129.496 71.117 130.461 64.396 C 131.427 57.675 133.363 52.088 138.731 47.285 Q 197.863 5.515 202.196 2.859 C 206.53 0.204 212.345 -1.701 215.492 2.291 C 218.639 6.282 217.482 10.02 213.419 14.083 L 135.147 92.355 L 125.563 82.77 Z  M 91.73 135.773 L 89.3 138.203 Q 87.797 147.426 86.832 154.147 C 85.866 160.868 83.93 166.455 78.562 171.258 Q 19.431 213.028 15.097 215.684 C 10.763 218.339 4.948 220.243 1.801 216.252 C -1.346 212.26 -0.189 208.523 3.874 204.46 L 82.146 126.188 L 91.73 135.773 Z \"\n        />\n      </g>\n    </svg>\n  );\n};\n\nexport const droneTopItem: CanvasElementItem<any, any> = {\n  id: 'droneTop',\n  name: 'Drone Top',\n  description: 'Drone top',\n\n  display: DroneTopDisplay,\n\n  defaultSize: {\n    width: 100,\n    height: 100,\n  },\n\n  getNewOptions: (options) => ({\n    ...options,\n    background: {\n      color: {\n        fixed: 'transparent',\n      },\n    },\n  }),\n\n  // Called when data changes\n  prepareData: (ctx: DimensionContext, cfg: DroneTopConfig) => {\n    const data: DroneTopData = {\n      bRightRotorRPM: cfg?.bRightRotorRPM ? ctx.getScalar(cfg.bRightRotorRPM).value() : 0,\n      bLeftRotorRPM: cfg?.bLeftRotorRPM ? ctx.getScalar(cfg.bLeftRotorRPM).value() : 0,\n      fRightRotorRPM: cfg?.fRightRotorRPM ? ctx.getScalar(cfg.fRightRotorRPM).value() : 0,\n      fLeftRotorRPM: cfg?.fLeftRotorRPM ? ctx.getScalar(cfg.fLeftRotorRPM).value() : 0,\n      yawAngle: cfg?.yawAngle ? ctx.getScalar(cfg.yawAngle).value() : 0,\n    };\n\n    return data;\n  },\n\n  registerOptionsUI: (builder) => {\n    const category = ['Drone Top'];\n    builder\n      .addCustomEditor({\n        category,\n        id: 'yawAngle',\n        path: 'config.yawAngle',\n        name: 'Yaw Angle',\n        editor: ScalarDimensionEditor,\n      })\n      .addCustomEditor({\n        category,\n        id: 'fRightRotorRPM',\n        path: 'config.fRightRotorRPM',\n        name: 'Front Right Rotor RPM',\n        editor: ScalarDimensionEditor,\n      })\n      .addCustomEditor({\n        category,\n        id: 'fLeftRotorRPM',\n        path: 'config.fLeftRotorRPM',\n        name: 'Front Left Rotor RPM',\n        editor: ScalarDimensionEditor,\n      })\n      .addCustomEditor({\n        category,\n        id: 'bRightRotorRPM',\n        path: 'config.bRightRotorRPM',\n        name: 'Back Right Rotor RPM',\n        editor: ScalarDimensionEditor,\n      })\n      .addCustomEditor({\n        category,\n        id: 'bLeftRotorRPM',\n        path: 'config.bLeftRotorRPM',\n        name: 'Back Left Rotor RPM',\n        editor: ScalarDimensionEditor,\n      });\n  },\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  propeller: css`\n    transform-origin: 50% 50%;\n    transform-box: fill-box;\n    display: block;\n    @keyframes spin {\n      from {\n        transform: rotate(0deg);\n      }\n      to {\n        transform: rotate(360deg);\n      }\n    }\n  `,\n  propellerCW: css`\n    animation-direction: normal;\n  `,\n  propellerCCW: css`\n    animation-direction: reverse;\n  `,\n});\n","import { css } from '@emotion/css';\nimport React, { useCallback } from 'react';\nimport { useObservable } from 'react-use';\nimport { of } from 'rxjs';\n\nimport { DataFrame, FieldNamePickerConfigSettings, GrafanaTheme2, StandardEditorsRegistryItem } from '@grafana/data';\nimport { usePanelContext, useStyles2 } from '@grafana/ui';\nimport { FieldNamePicker } from '@grafana/ui/src/components/MatchersUI/FieldNamePicker';\nimport { TextDimensionMode } from 'app/features/dimensions';\nimport { DimensionContext } from 'app/features/dimensions/context';\nimport { ColorDimensionEditor } from 'app/features/dimensions/editors/ColorDimensionEditor';\nimport { TextDimensionEditor } from 'app/features/dimensions/editors/TextDimensionEditor';\n\nimport { CanvasElementItem, CanvasElementProps, defaultBgColor, defaultTextColor } from '../element';\nimport { ElementState } from '../runtime/element';\nimport { Align, TextConfig, TextData, VAlign } from '../types';\n\n// eslint-disable-next-line\nconst dummyFieldSettings: StandardEditorsRegistryItem<string, FieldNamePickerConfigSettings> = {\n  settings: {},\n} as StandardEditorsRegistryItem<string, FieldNamePickerConfigSettings>;\n\nconst MetricValueDisplay = (props: CanvasElementProps<TextConfig, TextData>) => {\n  const { data, isSelected } = props;\n  const styles = useStyles2(getStyles(data));\n\n  const context = usePanelContext();\n  const scene = context.instanceState?.scene;\n\n  const isEditMode = useObservable<boolean>(scene?.editModeEnabled ?? of(false));\n\n  if (isEditMode && isSelected) {\n    return <MetricValueEdit {...props} />;\n  }\n  return (\n    <div className={styles.container}>\n      <span className={styles.span}>{data?.text ? data.text : 'Double click to set field'}</span>\n    </div>\n  );\n};\n\nconst MetricValueEdit = (props: CanvasElementProps<TextConfig, TextData>) => {\n  let { data, config } = props;\n  const context = usePanelContext();\n  let panelData: DataFrame[];\n  panelData = context.instanceState?.scene?.data.series;\n\n  const onFieldChange = useCallback(\n    (field) => {\n      let selectedElement: ElementState;\n      selectedElement = context.instanceState?.selected[0];\n      if (selectedElement) {\n        const options = selectedElement.options;\n        selectedElement.onChange({\n          ...options,\n          config: {\n            ...options.config,\n            text: { fixed: '', field: field, mode: TextDimensionMode.Field },\n          },\n          background: {\n            color: { field: field, fixed: options.background?.color?.fixed ?? '' },\n          },\n        });\n\n        // Force a re-render (update scene data after config update)\n        const scene = context.instanceState?.scene;\n        if (scene) {\n          scene.editModeEnabled.next(false);\n          scene.updateData(scene.data);\n        }\n      }\n    },\n    [context.instanceState?.scene, context.instanceState?.selected]\n  );\n\n  const styles = useStyles2(getStyles(data));\n  return (\n    <div className={styles.inlineEditorContainer}>\n      {panelData && (\n        <FieldNamePicker\n          context={{ data: panelData }}\n          value={config.text?.field ?? ''}\n          onChange={onFieldChange}\n          item={dummyFieldSettings}\n        />\n      )}\n    </div>\n  );\n};\n\nconst getStyles = (data: TextData | undefined) => (theme: GrafanaTheme2) => ({\n  container: css`\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    display: table;\n  `,\n  inlineEditorContainer: css`\n    height: 100%;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    padding: 10px;\n  `,\n  span: css`\n    display: table-cell;\n    vertical-align: ${data?.valign};\n    text-align: ${data?.align};\n    font-size: ${data?.size}px;\n    color: ${data?.color};\n  `,\n});\n\nexport const metricValueItem: CanvasElementItem<TextConfig, TextData> = {\n  id: 'metric-value',\n  name: 'Metric Value',\n  description: 'Display a field value',\n\n  display: MetricValueDisplay,\n\n  hasEditMode: true,\n\n  defaultSize: {\n    width: 260,\n    height: 50,\n  },\n\n  getNewOptions: (options) => ({\n    ...options,\n    config: {\n      align: Align.Center,\n      valign: VAlign.Middle,\n      color: {\n        fixed: defaultTextColor,\n      },\n      text: { mode: TextDimensionMode.Field, fixed: '', field: '' },\n      size: 20,\n    },\n    background: {\n      color: {\n        fixed: defaultBgColor,\n      },\n    },\n    placement: {\n      top: 100,\n      left: 100,\n    },\n  }),\n\n  prepareData: (ctx: DimensionContext, cfg: TextConfig) => {\n    const data: TextData = {\n      text: cfg.text ? ctx.getText(cfg.text).value() : '',\n      align: cfg.align ?? Align.Center,\n      valign: cfg.valign ?? VAlign.Middle,\n      size: cfg.size,\n    };\n\n    if (cfg.color) {\n      data.color = ctx.getColor(cfg.color).value();\n    }\n\n    return data;\n  },\n\n  registerOptionsUI: (builder) => {\n    const category = ['Metric value'];\n    builder\n      .addCustomEditor({\n        category,\n        id: 'textSelector',\n        path: 'config.text',\n        name: 'Text',\n        editor: TextDimensionEditor,\n      })\n      .addCustomEditor({\n        category,\n        id: 'config.color',\n        path: 'config.color',\n        name: 'Text color',\n        editor: ColorDimensionEditor,\n        settings: {},\n        defaultValue: {},\n      })\n      .addRadio({\n        category,\n        path: 'config.align',\n        name: 'Align text',\n        settings: {\n          options: [\n            { value: Align.Left, label: 'Left' },\n            { value: Align.Center, label: 'Center' },\n            { value: Align.Right, label: 'Right' },\n          ],\n        },\n        defaultValue: Align.Left,\n      })\n      .addRadio({\n        category,\n        path: 'config.valign',\n        name: 'Vertical align',\n        settings: {\n          options: [\n            { value: VAlign.Top, label: 'Top' },\n            { value: VAlign.Middle, label: 'Middle' },\n            { value: VAlign.Bottom, label: 'Bottom' },\n          ],\n        },\n        defaultValue: VAlign.Middle,\n      })\n      .addNumberInput({\n        category,\n        path: 'config.size',\n        name: 'Text size',\n        settings: {\n          placeholder: 'Auto',\n        },\n      });\n  },\n};\n","import { css } from '@emotion/css';\nimport React, { PureComponent } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { stylesFactory } from '@grafana/ui';\nimport { config } from 'app/core/config';\nimport { DimensionContext } from 'app/features/dimensions/context';\nimport { ColorDimensionEditor } from 'app/features/dimensions/editors/ColorDimensionEditor';\nimport { TextDimensionEditor } from 'app/features/dimensions/editors/TextDimensionEditor';\n\nimport { CanvasElementItem, CanvasElementProps, defaultBgColor, defaultTextColor } from '../element';\nimport { Align, TextConfig, TextData, VAlign } from '../types';\n\nclass RectangleDisplay extends PureComponent<CanvasElementProps<TextConfig, TextData>> {\n  render() {\n    const { data } = this.props;\n    const styles = getStyles(config.theme2, data);\n    return (\n      <div className={styles.container}>\n        <span className={styles.span}>{data?.text}</span>\n      </div>\n    );\n  }\n}\nconst getStyles = stylesFactory((theme: GrafanaTheme2, data) => ({\n  container: css`\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    display: table;\n  `,\n  span: css`\n    display: table-cell;\n    vertical-align: ${data.valign};\n    text-align: ${data.align};\n    font-size: ${data?.size}px;\n    color: ${data?.color};\n  `,\n}));\nexport const rectangleItem: CanvasElementItem<TextConfig, TextData> = {\n  id: 'rectangle',\n  name: 'Rectangle',\n  description: 'Rectangle',\n\n  display: RectangleDisplay,\n\n  defaultSize: {\n    width: 240,\n    height: 160,\n  },\n\n  getNewOptions: (options) => ({\n    ...options,\n    config: {\n      align: Align.Center,\n      valign: VAlign.Middle,\n      color: {\n        fixed: defaultTextColor,\n      },\n    },\n    background: {\n      color: {\n        fixed: defaultBgColor,\n      },\n    },\n  }),\n\n  // Called when data changes\n  prepareData: (ctx: DimensionContext, cfg: TextConfig) => {\n    const data: TextData = {\n      text: cfg.text ? ctx.getText(cfg.text).value() : '',\n      align: cfg.align ?? Align.Center,\n      valign: cfg.valign ?? VAlign.Middle,\n      size: cfg.size,\n    };\n\n    if (cfg.color) {\n      data.color = ctx.getColor(cfg.color).value();\n    }\n\n    return data;\n  },\n\n  // Heatmap overlay options\n  registerOptionsUI: (builder) => {\n    const category = ['Rectangle'];\n    builder\n      .addCustomEditor({\n        category,\n        id: 'textSelector',\n        path: 'config.text',\n        name: 'Text',\n        editor: TextDimensionEditor,\n      })\n      .addCustomEditor({\n        category,\n        id: 'config.color',\n        path: 'config.color',\n        name: 'Text color',\n        editor: ColorDimensionEditor,\n        settings: {},\n        defaultValue: {},\n      })\n      .addRadio({\n        category,\n        path: 'config.align',\n        name: 'Align text',\n        settings: {\n          options: [\n            { value: Align.Left, label: 'Left' },\n            { value: Align.Center, label: 'Center' },\n            { value: Align.Right, label: 'Right' },\n          ],\n        },\n        defaultValue: Align.Left,\n      })\n      .addRadio({\n        category,\n        path: 'config.valign',\n        name: 'Vertical align',\n        settings: {\n          options: [\n            { value: VAlign.Top, label: 'Top' },\n            { value: VAlign.Middle, label: 'Middle' },\n            { value: VAlign.Bottom, label: 'Bottom' },\n          ],\n        },\n        defaultValue: VAlign.Middle,\n      })\n      .addNumberInput({\n        category,\n        path: 'config.size',\n        name: 'Text size',\n        settings: {\n          placeholder: 'Auto',\n        },\n      });\n  },\n};\n","import { css } from '@emotion/css';\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport { useObservable } from 'react-use';\nimport { of } from 'rxjs';\n\nimport { DataFrame, GrafanaTheme2 } from '@grafana/data';\nimport { Input, usePanelContext, useStyles2 } from '@grafana/ui';\nimport { DimensionContext } from 'app/features/dimensions/context';\nimport { ColorDimensionEditor } from 'app/features/dimensions/editors/ColorDimensionEditor';\nimport { TextDimensionEditor } from 'app/features/dimensions/editors/TextDimensionEditor';\n\nimport { CanvasElementItem, CanvasElementProps, defaultThemeTextColor } from '../element';\nimport { ElementState } from '../runtime/element';\nimport { Align, TextConfig, TextData, VAlign } from '../types';\n\nconst TextDisplay = (props: CanvasElementProps<TextConfig, TextData>) => {\n  const { data, isSelected } = props;\n  const styles = useStyles2(getStyles(data));\n\n  const context = usePanelContext();\n  const scene = context.instanceState?.scene;\n\n  const isEditMode = useObservable<boolean>(scene?.editModeEnabled ?? of(false));\n\n  if (isEditMode && isSelected) {\n    return <TextEdit {...props} />;\n  }\n  return (\n    <div className={styles.container}>\n      <span className={styles.span}>{data?.text ? data.text : 'Double click to set text'}</span>\n    </div>\n  );\n};\n\nconst TextEdit = (props: CanvasElementProps<TextConfig, TextData>) => {\n  let { data, config } = props;\n  const context = usePanelContext();\n  let panelData: DataFrame[];\n  panelData = context.instanceState?.scene?.data.series;\n\n  const textRef = useRef<string>(config.text?.fixed ?? '');\n\n  // Save text on TextEdit unmount\n  useEffect(() => {\n    return () => {\n      saveText(textRef.current);\n    };\n  });\n\n  const onKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.key === 'Enter') {\n      event.preventDefault();\n      const scene = context.instanceState?.scene;\n      if (scene) {\n        scene.editModeEnabled.next(false);\n      }\n    }\n  };\n\n  const onKeyUp = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    textRef.current = event.currentTarget.value;\n  };\n\n  const saveText = useCallback(\n    (textValue: string) => {\n      let selectedElement: ElementState;\n      selectedElement = context.instanceState?.selected[0];\n      if (selectedElement) {\n        const options = selectedElement.options;\n        selectedElement.onChange({\n          ...options,\n          config: {\n            ...options.config,\n            text: { ...selectedElement.options.config.text, fixed: textValue },\n          },\n        });\n\n        // Force a re-render (update scene data after config update)\n        const scene = context.instanceState?.scene;\n        if (scene) {\n          scene.updateData(scene.data);\n        }\n      }\n    },\n    [context.instanceState?.scene, context.instanceState?.selected]\n  );\n\n  const styles = useStyles2(getStyles(data));\n  return (\n    <div className={styles.inlineEditorContainer}>\n      {panelData && <Input defaultValue={config.text?.fixed ?? ''} onKeyDown={onKeyDown} onKeyUp={onKeyUp} autoFocus />}\n    </div>\n  );\n};\n\nconst getStyles = (data: TextData | undefined) => (theme: GrafanaTheme2) => ({\n  container: css`\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    display: table;\n  `,\n  inlineEditorContainer: css`\n    height: 100%;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    padding: 10px;\n  `,\n  span: css`\n    display: table-cell;\n    vertical-align: ${data?.valign};\n    text-align: ${data?.align};\n    font-size: ${data?.size}px;\n    color: ${data?.color};\n  `,\n});\n\nexport const textItem: CanvasElementItem<TextConfig, TextData> = {\n  id: 'text',\n  name: 'Text',\n  description: 'Display text',\n\n  display: TextDisplay,\n\n  hasEditMode: true,\n\n  defaultSize: {\n    width: 100,\n    height: 50,\n  },\n\n  getNewOptions: (options) => ({\n    ...options,\n    config: {\n      align: Align.Center,\n      valign: VAlign.Middle,\n      color: {\n        fixed: defaultThemeTextColor,\n      },\n      size: 16,\n    },\n    placement: {\n      top: 100,\n      left: 100,\n    },\n  }),\n\n  prepareData: (ctx: DimensionContext, cfg: TextConfig) => {\n    const data: TextData = {\n      text: cfg.text ? ctx.getText(cfg.text).value() : '',\n      align: cfg.align ?? Align.Center,\n      valign: cfg.valign ?? VAlign.Middle,\n      size: cfg.size,\n    };\n\n    if (cfg.color) {\n      data.color = ctx.getColor(cfg.color).value();\n    }\n\n    return data;\n  },\n\n  registerOptionsUI: (builder) => {\n    const category = ['Text'];\n    builder\n      .addCustomEditor({\n        category,\n        id: 'textSelector',\n        path: 'config.text',\n        name: 'Text',\n        editor: TextDimensionEditor,\n      })\n      .addCustomEditor({\n        category,\n        id: 'config.color',\n        path: 'config.color',\n        name: 'Text color',\n        editor: ColorDimensionEditor,\n        settings: {},\n        defaultValue: {},\n      })\n      .addRadio({\n        category,\n        path: 'config.align',\n        name: 'Align text',\n        settings: {\n          options: [\n            { value: Align.Left, label: 'Left' },\n            { value: Align.Center, label: 'Center' },\n            { value: Align.Right, label: 'Right' },\n          ],\n        },\n        defaultValue: Align.Left,\n      })\n      .addRadio({\n        category,\n        path: 'config.valign',\n        name: 'Vertical align',\n        settings: {\n          options: [\n            { value: VAlign.Top, label: 'Top' },\n            { value: VAlign.Middle, label: 'Middle' },\n            { value: VAlign.Bottom, label: 'Bottom' },\n          ],\n        },\n        defaultValue: VAlign.Middle,\n      })\n      .addNumberInput({\n        category,\n        path: 'config.size',\n        name: 'Text size',\n        settings: {\n          placeholder: 'Auto',\n        },\n      });\n  },\n};\n","import { css } from '@emotion/css';\nimport React, { FC } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\nimport { DimensionContext, ScalarDimensionConfig } from 'app/features/dimensions';\nimport { ScalarDimensionEditor } from 'app/features/dimensions/editors';\n\nimport { CanvasElementItem, CanvasElementProps, defaultBgColor } from '../element';\n\ninterface WindTurbineData {\n  rpm?: number;\n}\n\ninterface WindTurbineConfig {\n  rpm?: ScalarDimensionConfig;\n}\n\nconst WindTurbineDisplay: FC<CanvasElementProps<WindTurbineConfig, WindTurbineData>> = (props) => {\n  const styles = useStyles2(getStyles);\n\n  const { data } = props;\n\n  const windTurbineAnimation = `spin ${data?.rpm ? 60 / Math.abs(data.rpm) : 0}s linear infinite`;\n\n  return (\n    <svg viewBox=\"0 0 189.326 283.989\" preserveAspectRatio=\"xMidYMid meet\" style={{ fill: defaultBgColor }}>\n      <symbol id=\"blade\">\n        <path\n          fill=\"#e6e6e6\"\n          id=\"blade-front\"\n          d=\"M14.6491879,1.85011601 C14.2684455,-0.0535962877 10.7150812,-0.815081206 9.06473318,3.37308585 L0.434338747,70.7658933 L8.93805104,91.9607889 L15.4106729,90.437819 L17.5684455,78.3807425 L14.5218097,1.97679814 L14.6491879,1.85011601 Z\"\n        />\n        <path\n          fill=\"#d0d6d7\"\n          id=\"blade-side\"\n          d=\"M11.0951276,0.581206497 C10.3336427,0.961948956 9.57215777,1.85011601 8.93735499,3.24640371 L0.306960557,70.6392111 L8.81067285,91.8341067 L3.35359629,70.0044084 L11.0951276,0.581206497 Z\"\n        />\n      </symbol>\n\n      <g>\n        <g id=\"structure\" transform=\"translate(58.123, 82.664)\" fillRule=\"nonzero\">\n          <polygon id=\"tower\" fill=\"#e6e6e6\" points=\"33.111,10.984 39.965,10.984 44.28,196.176 28.796,196.176\" />\n          <path\n            id=\"yaw\"\n            fill=\"rgba(0,0,0,0.25)\"\n            d=\"M40.3454756,23.2948956 L40.7262181,34.8445476 C38.8225058,35.0986079 35.7765661,35.0986079 32.349884,34.337123 L32.7306265,23.2955916 L40.3454756,23.2955916 L40.3454756,23.2948956 Z\"\n          />\n          <path\n            id=\"base\"\n            fill=\"#d0d6d7\"\n            transform=\"translate(0 42)\"\n            d=\"M26.3846868,150.591647 L46.5640371,150.591647 C48.8484919,150.591647 50.7522042,152.49536 50.7522042,154.779814 L50.7522042,158.967981 L22.0691415,158.967981 L22.0691415,154.779814 C22.0691415,152.49536 23.9728538,150.591647 26.2573086,150.591647 L26.3846868,150.591647 Z\"\n          />\n          <circle id=\"nacelle\" fill=\"#e6e6e6\" cx=\"36.54\" cy=\"12\" r=\"11.93\" />\n          <circle id=\"gearbox\" fill=\"none\" stroke=\"#d0d6d7\" strokeWidth=\"2.75\" cx=\"36.538\" cy=\"11.999\" r=\"5.8\" />\n        </g>\n        <g className={styles.blade} style={{ animation: windTurbineAnimation }}>\n          <use id=\"blade1\" href=\"#blade\" x=\"83.24\" y=\"0\" />\n          <use id=\"blade2\" href=\"#blade\" x=\"83.24\" y=\"0\" transform=\"rotate(120 94.663 94.663)\" />\n          <use id=\"blade3\" href=\"#blade\" x=\"83.24\" y=\"0\" transform=\"rotate(-120 94.663 94.663)\" />\n        </g>\n      </g>\n    </svg>\n  );\n};\n\nexport const windTurbineItem: CanvasElementItem<any, any> = {\n  id: 'windTurbine',\n  name: 'Wind Turbine',\n  description: 'Spinny spinny',\n\n  display: WindTurbineDisplay,\n\n  defaultSize: {\n    width: 100,\n    height: 155,\n  },\n\n  getNewOptions: (options) => ({\n    ...options,\n    background: {\n      color: {\n        fixed: 'transparent',\n      },\n    },\n    placement: {\n      width: options?.placement?.width ?? 100,\n      height: options?.placement?.height ?? 155,\n      top: options?.placement?.top,\n      left: options?.placement?.left,\n    },\n  }),\n\n  // Called when data changes\n  prepareData: (ctx: DimensionContext, cfg: WindTurbineConfig) => {\n    const data: WindTurbineData = {\n      rpm: cfg?.rpm ? ctx.getScalar(cfg.rpm).value() : 0,\n    };\n\n    return data;\n  },\n\n  registerOptionsUI: (builder) => {\n    const category = ['Wind Turbine'];\n    builder.addCustomEditor({\n      category,\n      id: 'rpm',\n      path: 'config.rpm',\n      name: 'RPM',\n      editor: ScalarDimensionEditor,\n    });\n  },\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  blade: css`\n    @keyframes spin {\n      from {\n        transform: rotate(0deg);\n      }\n      to {\n        transform: rotate(360deg);\n      }\n    }\n\n    transform-origin: 94.663px 94.663px;\n    transform: rotate(15deg);\n  `,\n});\n","import { Registry } from '@grafana/data';\n\nimport { CanvasElementItem, CanvasElementOptions } from './element';\nimport { buttonItem } from './elements/button';\nimport { droneFrontItem } from './elements/droneFront';\nimport { droneSideItem } from './elements/droneSide';\nimport { droneTopItem } from './elements/droneTop';\nimport { iconItem } from './elements/icon';\nimport { metricValueItem } from './elements/metricValue';\nimport { rectangleItem } from './elements/rectangle';\nimport { textItem } from './elements/text';\nimport { windTurbineItem } from './elements/windTurbine';\n\nexport const DEFAULT_CANVAS_ELEMENT_CONFIG: CanvasElementOptions = {\n  ...metricValueItem.getNewOptions(),\n  placement: { ...metricValueItem.getNewOptions().placement, ...metricValueItem.defaultSize },\n  type: metricValueItem.id,\n  name: `Element 1`,\n};\n\nexport const defaultElementItems = [\n  metricValueItem, // default for now\n  textItem,\n  rectangleItem,\n  iconItem,\n];\n\nexport const advancedElementItems = [buttonItem, windTurbineItem, droneTopItem, droneFrontItem, droneSideItem];\n\nexport const canvasElementRegistry = new Registry<CanvasElementItem>(() => [\n  ...defaultElementItems,\n  ...advancedElementItems,\n]);\n","import React, { CSSProperties } from 'react';\nimport { OnDrag, OnResize } from 'react-moveable/declaration/types';\n\nimport { LayerElement } from 'app/core/components/Layers/types';\nimport {\n  BackgroundImageSize,\n  CanvasElementItem,\n  CanvasElementOptions,\n  canvasElementRegistry,\n} from 'app/features/canvas';\nimport { notFoundItem } from 'app/features/canvas/elements/notFound';\nimport { DimensionContext } from 'app/features/dimensions';\n\nimport { Constraint, HorizontalConstraint, Placement, VerticalConstraint } from '../types';\n\nimport { FrameState } from './frame';\nimport { RootElement } from './root';\nimport { Scene } from './scene';\n\nlet counter = 0;\n\nexport class ElementState implements LayerElement {\n  // UID necessary for moveable to work (for now)\n  readonly UID = counter++;\n  revId = 0;\n  sizeStyle: CSSProperties = {};\n  dataStyle: CSSProperties = {};\n\n  // Temp stored constraint for visualization purposes (switch to top / left constraint to simplify some functionality)\n  tempConstraint: Constraint | undefined;\n\n  // Filled in by ref\n  div?: HTMLDivElement;\n\n  // Calculated\n  data?: any; // depends on the type\n\n  constructor(public item: CanvasElementItem, public options: CanvasElementOptions, public parent?: FrameState) {\n    const fallbackName = `Element ${Date.now()}`;\n    if (!options) {\n      this.options = { type: item.id, name: fallbackName };\n    }\n\n    options.constraint = options.constraint ?? {\n      vertical: VerticalConstraint.Top,\n      horizontal: HorizontalConstraint.Left,\n    };\n    options.placement = options.placement ?? { width: 100, height: 100, top: 0, left: 0 };\n    options.background = options.background ?? { color: { fixed: 'transparent' } };\n    options.border = options.border ?? { color: { fixed: 'dark-green' } };\n    const scene = this.getScene();\n    if (!options.name) {\n      const newName = scene?.getNextElementName();\n      options.name = newName ?? fallbackName;\n    }\n    scene?.byName.set(options.name, this);\n  }\n\n  private getScene(): Scene | undefined {\n    let trav = this.parent;\n    while (trav) {\n      if (trav.isRoot()) {\n        return trav.scene;\n      }\n      trav = trav.parent;\n    }\n\n    return undefined;\n  }\n\n  getName() {\n    return this.options.name;\n  }\n\n  /** Use the configured options to update CSS style properties directly on the wrapper div **/\n  applyLayoutStylesToDiv(disablePointerEvents?: boolean) {\n    if (this.isRoot()) {\n      // Root supersedes layout engine and is always 100% width + height of panel\n      return;\n    }\n\n    const { constraint } = this.options;\n    const { vertical, horizontal } = constraint ?? {};\n    const placement = this.options.placement ?? ({} as Placement);\n\n    const editingEnabled = this.getScene()?.isEditingEnabled;\n\n    const style: React.CSSProperties = {\n      cursor: editingEnabled ? 'grab' : 'auto',\n      pointerEvents: disablePointerEvents ? 'none' : 'auto',\n      position: 'absolute',\n      // Minimum element size is 10x10\n      minWidth: '10px',\n      minHeight: '10px',\n    };\n\n    const translate = ['0px', '0px'];\n\n    switch (vertical) {\n      case VerticalConstraint.Top:\n        placement.top = placement.top ?? 0;\n        placement.height = placement.height ?? 100;\n        style.top = `${placement.top}px`;\n        style.height = `${placement.height}px`;\n        delete placement.bottom;\n        break;\n      case VerticalConstraint.Bottom:\n        placement.bottom = placement.bottom ?? 0;\n        placement.height = placement.height ?? 100;\n        style.bottom = `${placement.bottom}px`;\n        style.height = `${placement.height}px`;\n        delete placement.top;\n        break;\n      case VerticalConstraint.TopBottom:\n        placement.top = placement.top ?? 0;\n        placement.bottom = placement.bottom ?? 0;\n        style.top = `${placement.top}px`;\n        style.bottom = `${placement.bottom}px`;\n        delete placement.height;\n        style.height = '';\n        break;\n      case VerticalConstraint.Center:\n        placement.top = placement.top ?? 0;\n        placement.height = placement.height ?? 100;\n        translate[1] = '-50%';\n        style.top = `calc(50% - ${placement.top}px)`;\n        style.height = `${placement.height}px`;\n        delete placement.bottom;\n        break;\n      case VerticalConstraint.Scale:\n        placement.top = placement.top ?? 0;\n        placement.bottom = placement.bottom ?? 0;\n        style.top = `${placement.top}%`;\n        style.bottom = `${placement.bottom}%`;\n        delete placement.height;\n        style.height = '';\n        break;\n    }\n\n    switch (horizontal) {\n      case HorizontalConstraint.Left:\n        placement.left = placement.left ?? 0;\n        placement.width = placement.width ?? 100;\n        style.left = `${placement.left}px`;\n        style.width = `${placement.width}px`;\n        delete placement.right;\n        break;\n      case HorizontalConstraint.Right:\n        placement.right = placement.right ?? 0;\n        placement.width = placement.width ?? 100;\n        style.right = `${placement.right}px`;\n        style.width = `${placement.width}px`;\n        delete placement.left;\n        break;\n      case HorizontalConstraint.LeftRight:\n        placement.left = placement.left ?? 0;\n        placement.right = placement.right ?? 0;\n        style.left = `${placement.left}px`;\n        style.right = `${placement.right}px`;\n        delete placement.width;\n        style.width = '';\n        break;\n      case HorizontalConstraint.Center:\n        placement.left = placement.left ?? 0;\n        placement.width = placement.width ?? 100;\n        translate[0] = '-50%';\n        style.left = `calc(50% - ${placement.left}px)`;\n        style.width = `${placement.width}px`;\n        delete placement.right;\n        break;\n      case HorizontalConstraint.Scale:\n        placement.left = placement.left ?? 0;\n        placement.right = placement.right ?? 0;\n        style.left = `${placement.left}%`;\n        style.right = `${placement.right}%`;\n        delete placement.width;\n        style.width = '';\n        break;\n    }\n\n    style.transform = `translate(${translate[0]}, ${translate[1]})`;\n    this.options.placement = placement;\n    this.sizeStyle = style;\n    if (this.div) {\n      for (const key in this.sizeStyle) {\n        this.div.style[key as any] = (this.sizeStyle as any)[key];\n      }\n\n      for (const key in this.dataStyle) {\n        this.div.style[key as any] = (this.dataStyle as any)[key];\n      }\n    }\n  }\n\n  setPlacementFromConstraint(elementContainer?: DOMRect, parentContainer?: DOMRect) {\n    const { constraint } = this.options;\n    const { vertical, horizontal } = constraint ?? {};\n\n    if (!elementContainer) {\n      elementContainer = this.div && this.div.getBoundingClientRect();\n    }\n    let parentBorderWidth = 0;\n    if (!parentContainer) {\n      parentContainer = this.div && this.div.parentElement?.getBoundingClientRect();\n      parentBorderWidth = this.parent?.isRoot()\n        ? 0\n        : parseFloat(getComputedStyle(this.div?.parentElement!).borderWidth);\n    }\n\n    const relativeTop =\n      elementContainer && parentContainer\n        ? Math.round(elementContainer.top - parentContainer.top - parentBorderWidth)\n        : 0;\n    const relativeBottom =\n      elementContainer && parentContainer\n        ? Math.round(parentContainer.bottom - parentBorderWidth - elementContainer.bottom)\n        : 0;\n    const relativeLeft =\n      elementContainer && parentContainer\n        ? Math.round(elementContainer.left - parentContainer.left - parentBorderWidth)\n        : 0;\n    const relativeRight =\n      elementContainer && parentContainer\n        ? Math.round(parentContainer.right - parentBorderWidth - elementContainer.right)\n        : 0;\n\n    const placement = {} as Placement;\n\n    const width = elementContainer?.width ?? 100;\n    const height = elementContainer?.height ?? 100;\n\n    switch (vertical) {\n      case VerticalConstraint.Top:\n        placement.top = relativeTop;\n        placement.height = height;\n        break;\n      case VerticalConstraint.Bottom:\n        placement.bottom = relativeBottom;\n        placement.height = height;\n        break;\n      case VerticalConstraint.TopBottom:\n        placement.top = relativeTop;\n        placement.bottom = relativeBottom;\n        break;\n      case VerticalConstraint.Center:\n        const elementCenter = elementContainer ? relativeTop + height / 2 : 0;\n        const parentCenter = parentContainer ? parentContainer.height / 2 : 0;\n        const distanceFromCenter = parentCenter - elementCenter;\n        placement.top = distanceFromCenter;\n        placement.height = height;\n        break;\n      case VerticalConstraint.Scale:\n        placement.top = (relativeTop / (parentContainer?.height ?? height)) * 100;\n        placement.bottom = (relativeBottom / (parentContainer?.height ?? height)) * 100;\n        break;\n    }\n\n    switch (horizontal) {\n      case HorizontalConstraint.Left:\n        placement.left = relativeLeft;\n        placement.width = width;\n        break;\n      case HorizontalConstraint.Right:\n        placement.right = relativeRight;\n        placement.width = width;\n        break;\n      case HorizontalConstraint.LeftRight:\n        placement.left = relativeLeft;\n        placement.right = relativeRight;\n        break;\n      case HorizontalConstraint.Center:\n        const elementCenter = elementContainer ? relativeLeft + width / 2 : 0;\n        const parentCenter = parentContainer ? parentContainer.width / 2 : 0;\n        const distanceFromCenter = parentCenter - elementCenter;\n        placement.left = distanceFromCenter;\n        placement.width = width;\n        break;\n      case HorizontalConstraint.Scale:\n        placement.left = (relativeLeft / (parentContainer?.width ?? width)) * 100;\n        placement.right = (relativeRight / (parentContainer?.width ?? width)) * 100;\n        break;\n    }\n\n    this.options.placement = placement;\n\n    this.applyLayoutStylesToDiv();\n    this.revId++;\n  }\n\n  updateData(ctx: DimensionContext) {\n    if (this.item.prepareData) {\n      this.data = this.item.prepareData(ctx, this.options.config);\n      this.revId++; // rerender\n    }\n\n    const { background, border } = this.options;\n    const css: CSSProperties = {};\n    if (background) {\n      if (background.color) {\n        const color = ctx.getColor(background.color);\n        css.backgroundColor = color.value();\n      }\n      if (background.image) {\n        const image = ctx.getResource(background.image);\n        if (image) {\n          const v = image.value();\n          if (v) {\n            css.backgroundImage = `url(\"${v}\")`;\n            switch (background.size ?? BackgroundImageSize.Contain) {\n              case BackgroundImageSize.Contain:\n                css.backgroundSize = 'contain';\n                css.backgroundRepeat = 'no-repeat';\n                break;\n              case BackgroundImageSize.Cover:\n                css.backgroundSize = 'cover';\n                css.backgroundRepeat = 'no-repeat';\n                break;\n              case BackgroundImageSize.Original:\n                css.backgroundRepeat = 'no-repeat';\n                break;\n              case BackgroundImageSize.Tile:\n                css.backgroundRepeat = 'repeat';\n                break;\n              case BackgroundImageSize.Fill:\n                css.backgroundSize = '100% 100%';\n                break;\n            }\n          } else {\n            css.backgroundImage = '';\n          }\n        }\n      }\n    }\n\n    if (border && border.color && border.width !== undefined) {\n      const color = ctx.getColor(border.color);\n      css.borderWidth = `${border.width}px`;\n      css.borderStyle = 'solid';\n      css.borderColor = color.value();\n\n      // Move the image to inside the border\n      if (css.backgroundImage) {\n        css.backgroundOrigin = 'padding-box';\n      }\n    }\n\n    this.dataStyle = css;\n    this.applyLayoutStylesToDiv();\n  }\n\n  isRoot(): this is RootElement {\n    return false;\n  }\n\n  /** Recursively visit all nodes */\n  visit(visitor: (v: ElementState) => void) {\n    visitor(this);\n  }\n\n  onChange(options: CanvasElementOptions) {\n    if (this.item.id !== options.type) {\n      this.item = canvasElementRegistry.getIfExists(options.type) ?? notFoundItem;\n    }\n\n    // rename handling\n    const oldName = this.options.name;\n    const newName = options.name;\n\n    this.revId++;\n    this.options = { ...options };\n    let trav = this.parent;\n    while (trav) {\n      if (trav.isRoot()) {\n        trav.scene.save();\n        break;\n      }\n      trav.revId++;\n      trav = trav.parent;\n    }\n\n    const scene = this.getScene();\n    if (oldName !== newName && scene) {\n      scene.byName.delete(oldName);\n      scene.byName.set(newName, this);\n    }\n  }\n\n  getSaveModel() {\n    return { ...this.options };\n  }\n\n  initElement = (target: HTMLDivElement) => {\n    this.div = target;\n    this.applyLayoutStylesToDiv();\n  };\n\n  applyDrag = (event: OnDrag) => {\n    const hasHorizontalCenterConstraint = this.options.constraint?.horizontal === HorizontalConstraint.Center;\n    const hasVerticalCenterConstraint = this.options.constraint?.vertical === VerticalConstraint.Center;\n    if (hasHorizontalCenterConstraint || hasVerticalCenterConstraint) {\n      const numberOfTargets = this.getScene()?.selecto?.getSelectedTargets().length ?? 0;\n      const isMultiSelection = numberOfTargets > 1;\n      if (!isMultiSelection) {\n        const elementContainer = this.div?.getBoundingClientRect();\n        const height = elementContainer?.height ?? 100;\n        const yOffset = hasVerticalCenterConstraint ? height / 4 : 0;\n        event.target.style.transform = `translate(${event.translate[0]}px, ${event.translate[1] - yOffset}px)`;\n        return;\n      }\n    }\n\n    event.target.style.transform = event.transform;\n  };\n\n  // kinda like:\n  // https://github.com/grafana/grafana-edge-app/blob/main/src/panels/draw/WrapItem.tsx#L44\n  applyResize = (event: OnResize) => {\n    const placement = this.options.placement!;\n\n    const style = event.target.style;\n    const deltaX = event.delta[0];\n    const deltaY = event.delta[1];\n    const dirLR = event.direction[0];\n    const dirTB = event.direction[1];\n\n    if (dirLR === 1) {\n      placement.width = event.width;\n      style.width = `${placement.width}px`;\n    } else if (dirLR === -1) {\n      placement.left! -= deltaX;\n      placement.width = event.width;\n      style.left = `${placement.left}px`;\n      style.width = `${placement.width}px`;\n    }\n\n    if (dirTB === -1) {\n      placement.top! -= deltaY;\n      placement.height = event.height;\n      style.top = `${placement.top}px`;\n      style.height = `${placement.height}px`;\n    } else if (dirTB === 1) {\n      placement.height = event.height;\n      style.height = `${placement.height}px`;\n    }\n  };\n\n  render() {\n    const { item, div } = this;\n    const scene = this.getScene();\n    // TODO: Rethink selected state handling\n    const isSelected = div && scene && scene.selecto && scene.selecto.getSelectedTargets().includes(div);\n\n    return (\n      <div key={this.UID} ref={this.initElement}>\n        <item.display\n          key={`${this.UID}/${this.revId}`}\n          config={this.options.config}\n          data={this.data}\n          isSelected={isSelected}\n        />\n      </div>\n    );\n  }\n}\n","import { ColorDimensionConfig, ResourceDimensionConfig, TextDimensionConfig } from 'app/features/dimensions/types';\n\nexport interface Placement {\n  top?: number;\n  left?: number;\n  right?: number;\n  bottom?: number;\n\n  width?: number;\n  height?: number;\n}\n\nexport interface Constraint {\n  horizontal?: HorizontalConstraint;\n  vertical?: VerticalConstraint;\n}\n\nexport enum HorizontalConstraint {\n  Left = 'left',\n  Right = 'right',\n  LeftRight = 'leftright',\n  Center = 'center',\n  Scale = 'scale',\n}\n\nexport enum VerticalConstraint {\n  Top = 'top',\n  Bottom = 'bottom',\n  TopBottom = 'topbottom',\n  Center = 'center',\n  Scale = 'scale',\n}\n\nexport enum BackgroundImageSize {\n  Original = 'original',\n  Contain = 'contain',\n  Cover = 'cover',\n  Fill = 'fill',\n  Tile = 'tile',\n}\n\nexport interface BackgroundConfig {\n  color?: ColorDimensionConfig;\n  image?: ResourceDimensionConfig;\n  size?: BackgroundImageSize;\n}\n\nexport interface LineConfig {\n  color?: ColorDimensionConfig;\n  width?: number;\n}\n\nexport enum QuickPlacement {\n  Top = 'top',\n  Bottom = 'bottom',\n  Left = 'left',\n  Right = 'right',\n  HorizontalCenter = 'hcenter',\n  VerticalCenter = 'vcenter',\n}\n\nexport enum Align {\n  Left = 'left',\n  Center = 'center',\n  Right = 'right',\n}\n\nexport enum VAlign {\n  Top = 'top',\n  Middle = 'middle',\n  Bottom = 'bottom',\n}\n\nexport interface TextData {\n  text?: string;\n  color?: string;\n  size?: number; // 0 or missing will \"auto size\"\n  align: Align;\n  valign: VAlign;\n}\n\nexport interface TextConfig {\n  text?: TextDimensionConfig;\n  color?: ColorDimensionConfig;\n  size?: number; // 0 or missing will \"auto size\"\n  align: Align;\n  valign: VAlign;\n}\n","import React, { useCallback } from 'react';\n\nimport { AppEvents, StandardEditorProps, StandardEditorsRegistryItem, StringFieldConfigSettings } from '@grafana/data';\nimport { config, getBackendSrv } from '@grafana/runtime';\nimport { Button, InlineField, InlineFieldRow, JSONFormatter } from '@grafana/ui';\nimport { StringValueEditor } from 'app/core/components/OptionsUI/string';\nimport { appEvents } from 'app/core/core';\n\nexport interface APIEditorConfig {\n  endpoint: string;\n  data?: string;\n}\n\nconst dummyStringSettings: StandardEditorsRegistryItem<string, StringFieldConfigSettings> = {\n  settings: {},\n} as any;\n\nexport const callApi = (api: APIEditorConfig, isTest = false) => {\n  if (api) {\n    getBackendSrv()\n      .fetch({\n        url: api.endpoint!,\n        method: 'POST',\n        data: api.data ?? {},\n      })\n      .subscribe({\n        error: (error: any) => {\n          if (isTest) {\n            appEvents.emit(AppEvents.alertError, ['Error has occurred: ', JSON.stringify(error)]);\n            console.error(error);\n          }\n        },\n        complete: () => {\n          if (isTest) {\n            appEvents.emit(AppEvents.alertSuccess, ['Test successful']);\n          }\n        },\n      });\n  }\n};\n\ntype Props = StandardEditorProps<APIEditorConfig, any, any>;\n\nexport function APIEditor({ value, context, onChange }: Props) {\n  const labelWidth = 9;\n\n  const onEndpointChange = useCallback(\n    (endpoint) => {\n      onChange({\n        ...value,\n        endpoint,\n      });\n    },\n    [onChange, value]\n  );\n\n  const onDataChange = useCallback(\n    (data) => {\n      onChange({\n        ...value,\n        data,\n      });\n    },\n    [onChange, value]\n  );\n\n  const renderJSON = (data: string) => {\n    try {\n      const json = JSON.parse(data);\n      return <JSONFormatter json={json} />;\n    } catch (error) {\n      if (error instanceof Error) {\n        return `Invalid JSON provided: ${error.message}`;\n      } else {\n        return 'Invalid JSON provided';\n      }\n    }\n  };\n\n  const renderTestAPIButton = (api: APIEditorConfig) => {\n    if (api && api.endpoint) {\n      return (\n        <Button onClick={() => callApi(api, true)} title={'Test API'}>\n          Test API\n        </Button>\n      );\n    }\n\n    return;\n  };\n\n  return config.disableSanitizeHtml ? (\n    <>\n      <InlineFieldRow>\n        <InlineField label={'Endpoint'} labelWidth={labelWidth} grow={true}>\n          <StringValueEditor\n            context={context}\n            value={value?.endpoint}\n            onChange={onEndpointChange}\n            item={dummyStringSettings}\n          />\n        </InlineField>\n      </InlineFieldRow>\n      <InlineFieldRow>\n        <InlineField label={'Data'} labelWidth={labelWidth} grow={true}>\n          <StringValueEditor\n            context={context}\n            value={value?.data ?? '{}'}\n            onChange={onDataChange}\n            item={dummyStringSettings}\n          />\n        </InlineField>\n      </InlineFieldRow>\n      {renderTestAPIButton(value)}\n      <br />\n      {renderJSON(value?.data ?? '{}')}\n    </>\n  ) : (\n    <>Must enable disableSanitizeHtml feature flag to access</>\n  );\n}\n","import React, { FC, useCallback } from 'react';\n\nimport { SelectableValue, StandardEditorProps } from '@grafana/data';\nimport { InlineField, InlineFieldRow, RadioButtonGroup } from '@grafana/ui/src';\nimport { BackgroundImageSize } from 'app/features/canvas';\n\nconst options: Array<SelectableValue<BackgroundImageSize>> = [\n  { value: BackgroundImageSize.Original, label: 'Original' },\n  { value: BackgroundImageSize.Contain, label: 'Contain' },\n  { value: BackgroundImageSize.Cover, label: 'Cover' },\n  { value: BackgroundImageSize.Fill, label: 'Fill' },\n  { value: BackgroundImageSize.Tile, label: 'Tile' },\n];\n\nexport const BackgroundSizeEditor: FC<StandardEditorProps<string, undefined, undefined>> = (props) => {\n  const { value, onChange } = props;\n\n  const imageSize = value ?? BackgroundImageSize.Cover;\n\n  const onImageSizeChange = useCallback(\n    (size) => {\n      onChange(size);\n    },\n    [onChange]\n  );\n\n  return (\n    <InlineFieldRow>\n      <InlineField grow={true}>\n        <RadioButtonGroup value={imageSize} options={options} onChange={onImageSizeChange} fullWidth />\n      </InlineField>\n    </InlineFieldRow>\n  );\n};\n","import { PanelOptionsSupplier } from '@grafana/data/src/panel/PanelPlugin';\nimport { CanvasElementOptions } from 'app/features/canvas';\nimport { ColorDimensionEditor, ResourceDimensionEditor } from 'app/features/dimensions/editors';\nimport { BackgroundSizeEditor } from 'app/features/dimensions/editors/BackgroundSizeEditor';\n\ninterface OptionSuppliers {\n  addBackground: PanelOptionsSupplier<CanvasElementOptions>;\n  addBorder: PanelOptionsSupplier<CanvasElementOptions>;\n}\n\nconst getCategoryName = (str: string, type: string | undefined) => {\n  if (type !== 'frame' && type !== undefined) {\n    return [str + ` (${type})`];\n  }\n  return [str];\n};\n\nexport const optionBuilder: OptionSuppliers = {\n  addBackground: (builder, context) => {\n    const category = getCategoryName('Background', context.options?.type);\n    builder\n      .addCustomEditor({\n        category,\n        id: 'background.color',\n        path: 'background.color',\n        name: 'Color',\n        editor: ColorDimensionEditor,\n        settings: {},\n        defaultValue: {\n          // Configured values\n          fixed: '',\n        },\n      })\n      .addCustomEditor({\n        category,\n        id: 'background.image',\n        path: 'background.image',\n        name: 'Image',\n        editor: ResourceDimensionEditor,\n        settings: {\n          resourceType: 'image',\n        },\n      })\n      .addCustomEditor({\n        category,\n        id: 'background.size',\n        path: 'background.size',\n        name: 'Image size',\n        editor: BackgroundSizeEditor,\n        settings: {\n          resourceType: 'image',\n        },\n      });\n  },\n\n  addBorder: (builder, context) => {\n    const category = getCategoryName('Border', context.options?.type);\n    builder.addSliderInput({\n      category,\n      path: 'border.width',\n      name: 'Width',\n      defaultValue: 2,\n      settings: {\n        min: 0,\n        max: 20,\n      },\n    });\n\n    if (context.options?.border?.width) {\n      builder.addCustomEditor({\n        category,\n        id: 'border.color',\n        path: 'border.color',\n        name: 'Color',\n        editor: ColorDimensionEditor,\n        settings: {},\n        defaultValue: {\n          // Configured values\n          fixed: '',\n        },\n      });\n    }\n  },\n};\n"],"names":["defaultBgColor","defaultTextColor","defaultThemeTextColor","config","svgStrokePathClass","css","iconItem","id","name","description","display","props","data","path","svgStyle","fill","stroke","strokeColor","strokeWidth","height","width","onClick","api","callApi","src","style","className","undefined","getNewOptions","options","placement","top","left","mode","ResourceDimensionMode","fixed","background","color","prepareData","ctx","cfg","getResource","value","isString","getPublicOrAbsoluteUrl","getColor","registerOptionsUI","builder","category","addCustomEditor","editor","ResourceDimensionEditor","settings","resourceType","ColorDimensionEditor","defaultValue","NotFoundDisplay","PureComponent","render","this","JSON","stringify","notFoundItem","defaultSize","ButtonDisplay","Button","type","text","buttonItem","state","PluginState","getText","TextDimensionEditor","APIEditor","droneFrontItem","styles","useStyles2","getStyles","droneFrontTransformStyle","rollAngle","droneFront","xmlns","xmlnsXlink","viewBox","transform","x1","x2","y1","y2","d","cx","cy","r","getScalar","ScalarDimensionEditor","theme","droneSideItem","droneSidePitchTransformStyle","pitchAngle","droneSide","droneTopItem","fRightRotorAnimation","fRightRotorRPM","Math","abs","fLeftRotorAnimation","fLeftRotorRPM","bRightRotorAnimation","bRightRotorRPM","bLeftRotorAnimation","bLeftRotorRPM","droneTopTransformStyle","yawAngle","xmlSpace","fillRule","propeller","propellerCW","animation","propellerCCW","dummyFieldSettings","MetricValueEdit","context","usePanelContext","panelData","instanceState","scene","series","onFieldChange","useCallback","field","selectedElement","selected","onChange","TextDimensionMode","editModeEnabled","next","updateData","inlineEditorContainer","FieldNamePicker","item","container","span","valign","align","size","metricValueItem","isSelected","useObservable","of","hasEditMode","Align","VAlign","addRadio","label","addNumberInput","placeholder","RectangleDisplay","stylesFactory","rectangleItem","TextEdit","textRef","useRef","useEffect","saveText","current","textValue","Input","I","onKeyDown","event","key","preventDefault","onKeyUp","currentTarget","autoFocus","textItem","windTurbineItem","windTurbineAnimation","rpm","preserveAspectRatio","points","blade","href","x","y","DEFAULT_CANVAS_ELEMENT_CONFIG","defaultElementItems","advancedElementItems","canvasElementRegistry","Registry","counter","ElementState","constructor","parent","target","div","applyLayoutStylesToDiv","hasHorizontalCenterConstraint","constraint","horizontal","HorizontalConstraint","hasVerticalCenterConstraint","vertical","VerticalConstraint","getScene","selecto","getSelectedTargets","length","elementContainer","getBoundingClientRect","yOffset","translate","deltaX","delta","deltaY","dirLR","direction","dirTB","fallbackName","Date","now","border","newName","getNextElementName","byName","set","trav","isRoot","getName","disablePointerEvents","cursor","isEditingEnabled","pointerEvents","position","minWidth","minHeight","bottom","right","sizeStyle","dataStyle","setPlacementFromConstraint","parentContainer","parentBorderWidth","parentElement","parseFloat","getComputedStyle","borderWidth","relativeTop","round","relativeBottom","relativeLeft","relativeRight","elementCenter","distanceFromCenter","revId","backgroundColor","image","v","backgroundImage","BackgroundImageSize","backgroundSize","backgroundRepeat","borderStyle","borderColor","backgroundOrigin","visit","visitor","oldName","save","delete","getSaveModel","includes","ref","initElement","UID","QuickPlacement","dummyStringSettings","isTest","getBackendSrv","fetch","url","endpoint","method","subscribe","error","appEvents","AppEvents","console","complete","onEndpointChange","onDataChange","labelWidth","grow","title","renderTestAPIButton","json","parse","Error","message","renderJSON","BackgroundSizeEditor","imageSize","onImageSizeChange","InlineFieldRow","InlineField","RadioButtonGroup","fullWidth","getCategoryName","str","optionBuilder","addBackground","addBorder","addSliderInput","min","max"],"sourceRoot":""}